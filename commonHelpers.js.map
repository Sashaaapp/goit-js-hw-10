{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["// Описаний в документації\nimport flatpickr from \"flatpickr\";\n// Додатковий імпорт стилів\nimport \"flatpickr/dist/flatpickr.min.css\";\n\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n      const userSelectedDate = selectedDates[0];\n      const currentDate = new Date();\n  \n      if (userSelectedDate < currentDate) {\n        document.querySelector('button[data-start]').disabled = true;\n        iziToast.error({ title: 'Error', message: 'Please choose a date in the future', position: 'topRight',\n    });\n      } else {\n        document.querySelector('button[data-start]').disabled = false;\n      }\n    },\n  };\n  \n  flatpickr(\"#datetime-picker\", options);\n  \n  let countdownInterval;\n  \n  function startCountdown(targetDate) {\n    countdownInterval = setInterval(() => {\n      const currentDate = new Date();\n      const timeDifference = targetDate - currentDate;\n  \n      if (timeDifference <= 0) {\n        clearInterval(countdownInterval);\n        updateTimerDisplay(0, 0, 0, 0);\n        iziToast.success({ title: 'Countdown Finished', message: 'The countdown has reached the end.' });\n        document.querySelector('button[data-start]').disabled = false;\n      } else {\n        const { days, hours, minutes, seconds } = convertMs(timeDifference);\n        updateTimerDisplay(days, hours, minutes, seconds);\n      }\n    }, 1000);\n  }\n  \n  function updateTimerDisplay(days, hours, minutes, seconds) {\n    document.querySelector('[data-days]').textContent = addLeadingZero(days);\n    document.querySelector('[data-hours]').textContent = addLeadingZero(hours);\n    document.querySelector('[data-minutes]').textContent = addLeadingZero(minutes);\n    document.querySelector('[data-seconds]').textContent = addLeadingZero(seconds);\n  }\n  \n  function addLeadingZero(value) {\n    return value.toString().padStart(2, '0');\n  }\n  \n  function convertMs(ms) {\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n  \n    const days = Math.floor(ms / day);\n    const hours = Math.floor((ms % day) / hour);\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n  \n    return { days, hours, minutes, seconds };\n  }\n  \n  document.querySelector('button[data-start]').addEventListener('click', () => {\n    const userSelectedDate = flatpickr('#datetime-picker').selectedDates[0];\n    document.querySelector('button[data-start]').disabled = true;\n    startCountdown(userSelectedDate);\n  });"],"names":["options","selectedDates","userSelectedDate","currentDate","iziToast","flatpickr","countdownInterval","startCountdown","targetDate","timeDifference","updateTimerDisplay","days","hours","minutes","seconds","convertMs","addLeadingZero","value","ms"],"mappings":"2GAUA,MAAMA,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,MAAMC,EAAmBD,EAAc,GACjCE,EAAc,IAAI,KAEpBD,EAAmBC,GACrB,SAAS,cAAc,oBAAoB,EAAE,SAAW,GACxDC,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,qCAAsC,SAAU,UAClG,CAAK,GAEG,SAAS,cAAc,oBAAoB,EAAE,SAAW,EAE3D,CACL,EAEEC,EAAU,mBAAoBL,CAAO,EAErC,IAAIM,EAEJ,SAASC,EAAeC,EAAY,CAClCF,EAAoB,YAAY,IAAM,CACpC,MAAMH,EAAc,IAAI,KAClBM,EAAiBD,EAAaL,EAEpC,GAAIM,GAAkB,EACpB,cAAcH,CAAiB,EAC/BI,EAAmB,EAAG,EAAG,EAAG,CAAC,EAC7BN,EAAS,QAAQ,CAAE,MAAO,qBAAsB,QAAS,oCAAoC,CAAE,EAC/F,SAAS,cAAc,oBAAoB,EAAE,SAAW,OACnD,CACL,KAAM,CAAE,KAAAO,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUN,CAAc,EAClEC,EAAmBC,EAAMC,EAAOC,EAASC,CAAO,CACjD,CACF,EAAE,GAAI,CACR,CAED,SAASJ,EAAmBC,EAAMC,EAAOC,EAASC,EAAS,CACzD,SAAS,cAAc,aAAa,EAAE,YAAcE,EAAeL,CAAI,EACvE,SAAS,cAAc,cAAc,EAAE,YAAcK,EAAeJ,CAAK,EACzE,SAAS,cAAc,gBAAgB,EAAE,YAAcI,EAAeH,CAAO,EAC7E,SAAS,cAAc,gBAAgB,EAAE,YAAcG,EAAeF,CAAO,CAC9E,CAED,SAASE,EAAeC,EAAO,CAC7B,OAAOA,EAAM,SAAU,EAAC,SAAS,EAAG,GAAG,CACxC,CAED,SAASF,EAAUG,EAAI,CAMrB,MAAMP,EAAO,KAAK,MAAMO,EAAK,KAAG,EAC1BN,EAAQ,KAAK,MAAOM,EAAK,MAAO,IAAI,EACpCL,EAAU,KAAK,MAAQK,EAAK,MAAO,KAAQ,GAAM,EACjDJ,EAAU,KAAK,MAASI,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAP,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACvC,CAED,SAAS,cAAc,oBAAoB,EAAE,iBAAiB,QAAS,IAAM,CAC3E,MAAMZ,EAAmBG,EAAU,kBAAkB,EAAE,cAAc,GACrE,SAAS,cAAc,oBAAoB,EAAE,SAAW,GACxDE,EAAeL,CAAgB,CACnC,CAAG"}